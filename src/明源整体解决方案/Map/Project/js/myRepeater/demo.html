<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
    <title></title>
    <meta content="Microsoft Visual Studio .NET 7.1" name="GENERATOR">
    <meta content="Visual Basic .NET 7.1" name="CODE_LANGUAGE">
    <meta content="JavaScript" name="vs_defaultClientScript">
    <meta content="http://schemas.microsoft.com/intellisense/ie5" name="vs_targetSchema">
    <link rel="stylesheet" type="text/css" href="/_common/styles/global.css"  charset="GB2312"/>
    <link rel="stylesheet" type="text/css" href="/_grid/map_grid.css" charset="GB2312"/>
    <link rel="stylesheet" type="text/css" href="/_nav/menu.css" charset="GB2312"/>
    <link rel="stylesheet" type="text/css" href="/_forms/styles/form.css" charset="GB2312"/>

    <script type="text/javascript" src="/_common/scripts/details.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_controls/setting.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_controls/datetime/date.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_controls/datetime/time.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_controls/number/number.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_controls/lookup/map_lookup.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_controls/util/util.js" charset="GB2312"></script>

    <script type="text/javascript" src="/_common/scripts/global.js" charset="GB2312"></script>

    <script type="text/javascript" src="/Project/js/sea.js" charset="GB2312"></script>

    <style type="text/css">
        .repTitle td
        {
            border-right: 2px solid #dbdac9;
            padding-left: 5px;
            padding-right: 5px;
        }
    </style>

    <script type="text/javascript">

        var rep = null;
        seajs.use('myRepeater', function(myrepeater) {

            var options = {
                columns: [
                            { title: "房号",
                                field: "Room",
                                width: "100",
                                editor: { type: "numbox", option: { onchange: function() {  }, maxlength: 3, min: -99999, max: 999999999} }
                            },
                            { title: "总价",
                                field: "Total",
                                width: "100",
                                 editor: { type: "numbox", option: { onchange: function() {  }, maxlength: 3, min: -99999, max: 999999999} },
                                datatype: { type: "number", option: { format: "#,###"} }
                            },
                            { title: "价格",
                                field: "Price",
                                width: "100",
                                datatype: { type: "number", option: { format: "#,##0.00"} }
                            },
                             { title: "日期",
                                 field: "SLControlDate",
                                 width: "150",
                                 datatype: { type: "datetime", option: { format: "yyyy-MM-dd"} },
                                 editor: { type: "datetimebox", option: { time: 0, maxlength: 10, change: function() { } } }
                             },
                            { title: "房间编码"
                            , field: "RoomCode"
                            , width: ""

                            },
                            { title: "户型"
                            , field: "HuXing"
                            , width: "100"
                                , editor: { type: "combobox", option: { data: [{ value: 1, text: "x1" }, { value: 2, text: "x2"}]} }
                            },
                            { title: "状态"
                            , field: "Status"
                            , width: "150"
                                , editor: { type: "lookupbox", option: { onclick: function() { alert(this.tagName); } } }
                            }
                         ]
                , idField: "RoomGUID"
                , serviceMethod: "MySoft.Project.Control.myRepeaterService.GetRepeaterDemoData"
                , sortField: "Room asc"
                , mutiSelect: true
                , height: "300px"
                , pagesize: 15
            };
            rep = new myrepeater('repTest', options);

            $("#btnText").bind("click", function() { rep.hideColumn("Room") });
            $("#Button1").bind("click", function() { rep.showColumn("Room") });

            $("#Button2").bind("click", function() {
                var arrRow = rep.getSelected();
                rep.deleteRow(arrRow);
            });
            $("#Button3").bind("click", function() {
                rep.newRow();
            });
        });
        function GetAllData() {
            alert(rep.options.items);
        }
        
        
    </script>

</head>
<body>
    <div id="repTest">
    </div>
    <br />
    <input type="button" value="测试隐藏" id="btnText" />
    <input type="button" value="测试显示" id="Button1" />
    <input type="button" value="测试删除" id="Button2" />
    <input type="button" value="测试新增" id="Button3" />
    
    <input type="button" value="编辑" id="Button4" onclick="rep.beginEdit();" />
    <input type="button" value="取数" id="Button5" onclick="GetAllData();" />
</body>
</html>
